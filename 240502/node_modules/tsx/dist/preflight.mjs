import{r as c}from"./pkgroll_create-require-b92e8e0d.mjs";import{constants as p}from"os";import{isMainThread as f}from"worker_threads";import{c as l}from"./client-e665d820.mjs";import"./suppress-warnings.mjs";import"module";import"net";import"./get-pipe-path-b74d9893.mjs";import"path";import"./temporary-directory-04b36185.mjs";const m=(e,s)=>{for(const t of e)process.on(t,r=>{s(r),process.listenerCount(t)===0&&process.exit(128+p.signals[t])});const{listenerCount:n,listeners:i}=process;process.listenerCount=function(t){let r=Reflect.apply(n,this,arguments);return e.includes(t)&&(r-=1),r},process.listeners=function(t){const r=Reflect.apply(i,this,arguments);return e.includes(t)?r.filter(o=>o!==s):r}};f&&(c("./cjs/index.cjs"),(async()=>{const e=await l;e&&m(["SIGINT","SIGTERM"],s=>{e({type:"signal",signal:s})})})());
